<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Data Types</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Data Types</h1><br/><p><strong>Целочисленные типы</strong></p><p></p><p>TINYINT                         1B          -127 ... 128</p><p>TINYINT (unsigned)         1B          0 ... 255</p><p></p><p>SMALLINT                       2B          -32_768 ... 32_767</p><p>SMALLINT (unsigned)       2B          0 ... 65_535</p><p></p><p>MEDIUMINT                     3B          -8_388_608 ... 8_388_607</p><p>MEDIUMINT (unsigned)     3B          0 ... 16_777_215</p><p></p><p>INT                                4B          -2_147_483_648 ... 2_147_483_647</p><p>INT (unsigned)                4B          0 ... 4_294_967_295</p><p></p><p>BIGINT                           8B          -9_223_372_036_854_775_808 ... 9_223_372_036_854_775_807</p><p>BIGINT (unsigned)           8B          0 ... 18_446_744_073_709_551_615</p><p></p><p><strong>Вещественные числа</strong></p><p></p><p>FLOAT                           4B          -3.402823466E+38 ... -1.175494351E-38</p><p>FLOAT (unsigned)           4B          0 ... </p><p></p><p>DOUBLE                         8B          -1.7976931348623157E+308 ... -2.2250738585072014E-308</p><p>DOUBLE (unsigned)         8B          0 ... </p><p>DOUBLE = REAL</p><p></p><p>Дробные числа с фиксированной точностью (следует использовать для хранения финансовых данных)</p><p>DECIMAL</p><p>• decimal(4,2) - 4 цифры может быть в целой части, 2 цифры может после условной запятой (9999.99 - максимальное значение)</p><p>• decimal(5,2) - 5 цифр может быть в целой части, 2 цифры может после условной запятой (99999.99 - максимальное значение)</p><p>• decimal(3,2) -&gt; 123.945 -&gt; 123.95 (при записи произойдет округление)</p><p></p><p><strong>Строковые типы</strong> (по умолчанию хранятся в кодировке UTF-8)</p><p></p><p>VARCHAR(n) - строка переменной длины (n - размерность строки, т.е. кол-во символов независимо от размерности символа (1,2,3 байт)), </p><p>обычно используется VARCHAR(255)</p><p>• VARCHAR(10) &lt;- TEST (размер строки будет 4 символа)</p><p>CHAR(n) - строка фиксированной длины (коды валют, стран, кэши</p><p>• CHAR(10) &lt;- TEST  (размер строки будет 10 символов, недостающие символы заполнятся пробелами)</p><p>TINYTEXT - вмещает до 255b</p><p>TEXT - до 65Kb</p><p>MEDIUMTEXT - до 16Mb</p><p>LARGETEXT - до 4Gb</p><p></p><p><strong>Бинарные типы </strong>(для хранения изображений, видео, аудио и т.д.) Как правило файлы хранятся в файловой системе, а в базу данных заносятся пути к ним</p><p>TINYBLOB - вмещает до 255b</p><p>BLOB - до 65Kb</p><p>MEDIUMBLOB - до 16Mb</p><p>LARGEBLOB - до 4Gb</p><p></p><p><strong>Дата и время</strong></p><p></p><p>DATE                        3B          с 1 янв 1000 года по 31 дек 9999 (Формат yyyy-mm-dd)</p><p>TIME                         3B          -838:59:59 ... 838:59:59 (Формат hh:mm:ss)</p><p>DATETIME                 8B          с 1 янв 1000 года по 31 дек 9999, -838:59:59 ... 838:59:59 (Формат yyyy-mm-dd hh:mm:ss)</p><p>TIMESTAMP               4B          с 1970-01-01 00:00:01 до 2038-01-19 03:14:07 UTC (UTC - всемирное координированное время)</p><p>YEAR                        1B          от 1901 до 2155 (Формат yyyy) (Следует использовать, если нужно хранить только год в заданном диапазоне)</p><p></p><p>DATETIME / TIMESTAMP / TIME (Стоит учитывать фактор округления в случае вставки большего количества чисел, чем заявлено в типе поля):</p><p>• DATETIME(3)          yyyy-mm-dd hh:mm:ss.000 (отображение времени с миллисекундами)</p><p>• DATETIME(6)          yyyy-mm-dd hh:mm:ss.000000 (отображение времени с микросекундами)</p><p>• TIME(3)          hh:mm:ss.000 (отображение времени с миллисекундами)</p><p>• TIME(6)          hh:mm:ss.000000 (отображение времени с микросекундами)</p><p></p><p><strong>Специальный тип NULL</strong></p><p></p><p>NULL - абсолютное отсутствие какого-либо значения</p><p>Флаг NOTNULL отображается в стоблце Nullable при просмотре структуры таблицы</p><p>Все NULL уникальны. Один NULL никогда не равен другому NULL: NULL ≠ NULL ≠ NULL ≠ NULL</p><p>При запросе SELECT * FROM film WHERE release_year = NULL; результат будет пкстым, т.к. NULL ≠ NULL</p><p>Следует пользоваться запросами IS NULL или IS NOT NULL</p><p></p><p><strong>Логический тип BOOL</strong></p><p></p><p>true / false ↔ TINYINT(1):</p><p>true =&gt; 1</p><p>false =&gt; 0</p><p>SELECT * FROM sakila.staff WHERE status = true;</p><p>status = true / status is true / status is not false - результат запроса будет одинаковым</p><p>SELECT * FROM sakila.staff WHERE active = “true”; - результат будет пустым, т.к. “true” ≠ true</p><p></p><p><strong>Перечисления ENUM и SET</strong></p><p></p><p>ENUM - один из списка (составной тип данных, преданзначен для хранения одного значения из списка допустимых значений)</p><p>Занимает от 1 до 2 байт</p><p>В поле типа ENUM мы должны передавать значение как строку</p><p>Хлопотно расширять, т.к. при возникновении новых допустимых значений нужно редактировать всю таблицу</p><p></p><p>SET - несколько из списка (предназначен для хранения множества значений - до 64 из списка допустимых)</p><p>Занимает от 1 до 8 байт</p><p>SELECT * FROM sakila.film WHERE FIND_IN_SET (&#39;Deleted Scenes&#39;, special_features); - &#39;Deleted Scenes&#39; (значение которое ищем), special_features (название колонки, где нужно осуществить поиск)</p><p>SELECT * FROM sakila.film WHERE FIND_IN_SET (&#39;Deleted Scenes&#39;, special_features) AND FIND_IN_SET (&#39;Behind the Scenes&#39;, special_features); - запрос будет учитывать оба интересующих критерия</p><p></p><p><strong>Значения по умолчанию</strong></p><p></p><p>При попытке вставить NULL в не nullable колонку (которая помечена как NOTNULL) MySQL сначала попытается подсатвить значение по умолчанию. Если занчения по умолчанию нет, то MySQL выдаст ошибку &quot;Filed ‘title’ doesn&#39;t have a default value&quot;</p><p></p><p>При работе с полями типа TIMESTAMP и DATETIME:</p><p>DEFAULT CURRENT_TIMESTAMP в поле Default value позволит заменить вставляемы NULL на текущую дату и время (но это касается только вставки новых записей)</p><p>Для обновления поля при передаче NULL в UPDATE запросе следует указать значение ON UPDATE CURRENT_TIMESTAMP</p><p>Либо можно совместить: CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP (будет работать и при вставке, и при обновлении данных)</p><p>Можно применять для типов DATE и TIME. Значения милли- и микросекунд внесены не будут.</p><p></p><p></p><p></p><p></p><p></p></div>
</body>
</html>
