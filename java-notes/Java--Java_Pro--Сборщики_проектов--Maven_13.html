<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Maven</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Maven</h1><br/><p></p><p>Файл pom.xml</p><p></p><p><span style="color:#a65700;">&lt;</span><strong>project</strong> <span style="color:#666616;">xmlns</span><span style="color:#808030;">=</span>&quot;<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/POM/4.0.0</span>&quot;</p><p>          <span style="color:#666616;">xmlns</span><span style="color:#800080;">:</span>xsi<span style="color:#808030;">=</span>&quot;<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">www.w3.org</span><span style="color:#40015a;">/2001/XMLSchema-instance</span>&quot;</p><p>          <span style="color:#666616;">xsi</span><span style="color:#800080;">:</span>schemaLocation<span style="color:#808030;">=</span>&quot;<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/POM/4.0.0</span><span style="color:#0000e6;"> </span><span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/xsd/maven-4.0.0.xsd</span>&quot;<span style="color:#a65700;">&gt;</span></p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">modelVersion</span><span style="color:#a65700;">&gt;</span>4.0.0<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">modelVersion</span><span style="color:#a65700;">&gt;</span></p><p> </p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>com.epam<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>                 идентификатор группы</p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>unit-test-sample<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>     идентификатор артефакта. Артефакт - результат сборки текущего приложения</p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>1.0-SNAPSHOT<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>            версия (соблюдаем семантическое версионирование).  SNAPSHOT - версия в активной разработке</p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">packaging</span><span style="color:#a65700;">&gt;</span>jar<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">packaging</span><span style="color:#a65700;">&gt;</span>                     упаковка</p><p> </p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">name</span><span style="color:#a65700;">&gt;</span>Maven jUnit sample<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">name</span><span style="color:#a65700;">&gt;</span>         имя</p><p> </p><p>      <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">properties</span><span style="color:#a65700;">&gt;</span>                                            настройки, которые нужны в пределах этого конфигурационного файла</p><p>         <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">project.build.sourceEncoding</span><span style="color:#a65700;">&gt;</span>UTF-8<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">project.build.sourceEncoding</span><span style="color:#a65700;">&gt;</span></p><p>         <span style="color:#e8bf6a;">&lt;maven.compiler.source&gt;</span>17<span style="color:#e8bf6a;">&lt;/maven.compiler.source&gt;      версия исходных файлов java</span></p><p><span style="color:#e8bf6a;">         &lt;maven.compiler.target&gt;</span>17<span style="color:#e8bf6a;">&lt;/maven.compiler.target&gt;</span>        <span style="color:#e8bf6a;">версия результирующих файлов java</span></p><p>     <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">properties</span><span style="color:#a65700;">&gt;</span></p><p> </p><p>     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">dependencies</span><span style="color:#a65700;">&gt;</span>                                         зависимости в пределах этого текущего артефакта</p><p>         <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">dependency</span><span style="color:#a65700;">&gt;</span></p><p>             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>junit<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span></p><p>             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>junit<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span></p><p>             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>4.8.2<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span></p><p>             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">scope</span><span style="color:#a65700;">&gt;</span>test<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">scope</span><span style="color:#a65700;">&gt;</span>                    область видимости: эта зависимость видна только для теста</p><p>         <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">dependency</span><span style="color:#a65700;">&gt;</span></p><p>     <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">dependencies</span><span style="color:#a65700;">&gt;</span></p><p><span style="color:#a65700;">&lt;/</span><strong>project</strong><span style="color:#a65700;">&gt;</span></p><p></p><p>Главный класс зпауска - Прописать &lt;manifest&gt;......&lt;mainclass&gt;...........</p><p>&lt;repositories&gt; &lt;repository&gt; &lt;id&gt; &lt;url&gt; ..... - сюда будет деплоиться наш проект</p><p>&lt;scm&gt; &lt;connection&gt; ...... &lt;developerConnection&gt; ...... - ссылка на исходники</p><p>&lt;issueManagemebt&gt; &lt;system&gt; ...... &lt;url&gt; ....... - где хранится Jira, либо в GitHub могут быть тикеты</p><p>&lt;mailingLists&gt; &lt;mailingList&gt; &lt;name&gt; .... &lt;subscribe&gt; ..... &lt;post&gt; ...... &lt;archive&gt; ..... - какие разработчики могут участвовать</p><p></p><p><strong>Область действия зависимости scope</strong></p><p></p><p>Область действия зависимости scope определяет этап жизненного цикла проекта, в котором эта зависимость будет использоваться.</p><p>Maven использует 6 областей :</p><p>● <strong>compile</strong> - область по умолчанию, используется, если scope не определена. Compile зависимости доступны во всех classpath проекта;</p><p>● <strong>provided</strong> - очень похоже на compile, но эта зависимость в сборку не попадает. Предполагается, что зависимость (артефакт) уже присутствует в JDK или в WEB-контейнере. Эта область доступна только на этапах компиляции и тестирования и не является транзитивной;</p><p>● <strong>runtime</strong> - зависимость с данной областью видимости не обязательна для compilation и используется в фазе выполнения;</p><p>● <strong>test</strong> - зависимость используется при тестировании кода приложения;</p><p>● <strong>system</strong> - область похожа на provided за исключением того, что необходимо определить физическое расположение артефакта на диске. Артефакт с этой областью видимости maven не ищет в репозитории;</p><p>● <strong>import</strong> - эта область используется в зависимости секции &lt;dependencyManagement&gt; при сложных связях (см. dependencyManagement).</p><p></p><p><img src="images/13-1.png" alt="images/13-1.png" /></p><p></p><p></p><p><strong>Команды Maven (Terminal IDEA):</strong></p><p></p><p>mvn help:effective-pom</p><p>mvn package</p><p>mvn clean install</p><p>.....</p><p></p><p>Иерархия от простого к сложному:</p><p>- функции</p><p>- классы (функции объединяются в классы)</p><p>- пакеты</p><p>- модули (модули являются как библиотеки)</p><p>- сервисы</p><p></p><p>Горизонтальное масштабирование - приложение запускается в нескольких экземплярах. Добавление компьютеров, ра каждом из которых будет работать один экземпляр приложения. + еще один компьютер, который будет балансировать нагрузку между этими компьютерами.</p><p></p><p>Вертикальная масштабирование - (если приложение не справляется: добавление памяти, жестких дисков, замена/добавление процессоров, замена материнской платы).</p><p></p><p><strong>Локальный репозиторий Maven:</strong></p><p>C:\Users\Текущий пользователь\.m2\repository</p><p></p><p><strong>Настройки Maven (Settings files):</strong></p><p>C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2021.2.3\plugins\maven\lib\maven3\conf\settings.xml</p><p>C:\Users\Текущий пользователь\.m2\repository - находится в репозитории профиля пользователя. По умолчанию файла здесь нет. Если что-то поменять, он появится. Этот файл можно добавить самим. Сюда придется добавлять настройки проектных репозиториев. Эти настройки переопределяют настройки, которые находятся здесь:</p><p>“C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2021.2.3\plugins\maven\lib\maven3\conf\settings.xml”</p><p></p><p><strong>Внешние зависимости</strong></p><p></p><p><img src="images/13-2.png" alt="images/13-2.png" /></p><p></p><p>Эти зависимости можем положить радом с проектом, тогда наш проект не будет зависеть от интернета.</p><p></p><p><strong>Lifecycle maven</strong></p><p></p><p><img src="images/13-3.png" alt="images/13-3.png" /></p><p></p><p><strong>clean</strong> - очищает папки target, в которые были помещены файлы во время build</p><p><strong>validate</strong> - проверяет все ли java файлы в порядке, проверяет зависимости</p><p><strong>compile</strong> - компилирует java код в class файлы</p><p><strong>test</strong> - запускает unit-тесты</p><p><strong>package</strong> - пакует jar файлы</p><p><strong>verify</strong> - запускает дополнительные проверки jar или war файлов, в зависимости от того подключены эти проверки или нет</p><p><strong>install</strong> - помещает jar файлы в локальный репозиторий Maven</p><p><strong>site</strong> - генерирует документацию (запускает java doc) (комментарии к методам)</p><p><strong>deploy</strong> - заливает проект на удаленный репозиторий</p><p></p><p></p></div>
</body>
</html>
