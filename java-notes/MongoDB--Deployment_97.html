<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Deployment</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Deployment</h1><br/><p></p><p>Деплоймент (развёртывание).</p><p></p><p>Для начала нам необходимо понять, как именно наше приложение будет запускаться на “боевых” серверах.</p><p>Наиболее лучшим подходом является прототипирование установки, мониторинг метрики, нагрузочное тестирование и использовать данную информацию для установки нашего приложения. Важнейшей частью данного подхода является мониторинг системы, что даёт понимание того, как будет вести себя наша система перед запуском и помогает определить, где нам необходимо увеличить пропускную способность.</p><p></p><p>Для мониторинга деполймента в MongoDB существуют следующие команды:</p><p>• <strong>mongostat</strong></p><p>• <strong>mongotop</strong></p><p></p><p></p><p></p><p>Команда <strong>mongostat</strong> проверяет статус всех работающих экземпляров mongod и возвращает счётчики операций базы данных (далее – БД). Данные счётчики включают в себя запись данных, запросы, изменения, удаления и курсоры.</p><p>Для получения данных нам необходимо выполнить в терминале следующую команду:</p><p><code></code></p><p><code>&gt; mongostat</code></p><p><code></code></p><p>В результате выполнения данной команды мы получим следующий результат:</p><p><img src="images/97-1.png" alt="images/97-1.png" /></p><p></p><p>Команда <strong>mongotop</strong> отслеживает и делает отчёты о чтении и записи данных в коллекции экземпляра MongoDB. По умолчанию, mongotop возвращает информацию за каждую секунду, но мы можем изменить временной параметр. Мы должны проверить, что данная активность отвечает требованиям нашей системы и, что мы не пытаемся превысить возможности нашей системы.</p><p>Для получения данной информации нам необходимо выполнить следующую команду:</p><p><code></code></p><p><code>&gt; mongotop</code></p><p><code></code></p><p>В результате выполнения данной команды, мы получим следующий результате:</p><p><img src="images/97-2.png" alt="images/97-2.png" /></p><p>Для корректировки времени обновления информации, нам необходимо использовать следующую команду:</p><p><code></code></p><p><code>&gt; mongotop 10</code></p><p><code></code></p><p>Где 10 – это время обновления в секундах.</p><p>В результате выполнения данной команды, мы получим следующий результате:</p><p><img src="images/97-3.png" alt="images/97-3.png" /></p><p>Отдельно от  MongoDB, 10gen поставляет бесплатный сервис для мониторинга БД – MongoDB Management System (MMS), которая предоставляет информацию по целому кластеру.</p><p></p><p></p><p></p><p></p></div>
</body>
</html>
