<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Transaction</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Transaction</h1><br/><p></p><p>Транзакция - выполнение последовательности команд (SQL-конструкций) в базе данных, которая либо фиксируется при успешной реализации каждой команды, либо отменяется при неудачном выполнении хотя бы одной команды.</p><p></p><p><span style="color:#008200;">-- 1. Start a new transaction</span>  </p><p>  </p><p>START <strong><span style="color:#006699;">TRANSACTION</span></strong>;  </p><p>  </p><p><span style="color:#008200;">-- 2. Get the highest income</span>  </p><p>  </p><p><strong><span style="color:#006699;">SELECT</span></strong> @income:= <strong><span style="color:#006699;">MAX</span></strong>(income) <strong><span style="color:#006699;">FROM</span></strong> employees;  </p><p>  </p><p><span style="color:#008200;">-- 3. Insert a new record into the employee table</span>  </p><p>  </p><p><strong><span style="color:#006699;">INSERT</span></strong> <strong><span style="color:#006699;">INTO</span></strong> employees(emp_id, emp_name, emp_age, city, income)   </p><p><strong><span style="color:#006699;">VALUES</span></strong> (111, <span style="color:#0000ff;">&#39;Alexander&#39;</span>, 45, <span style="color:#0000ff;">&#39;California&#39;</span>, 70000);  </p><p>  </p><p><span style="color:#008200;">-- 4. Insert a new record into the order table</span>  </p><p>  </p><p><strong><span style="color:#006699;">INSERT</span></strong> <strong><span style="color:#006699;">INTO</span></strong> Orders(order_id, prod_name, order_num, order_date)   </p><p><strong><span style="color:#006699;">VALUES</span></strong> (6, <span style="color:#0000ff;">&#39;Printer&#39;</span>, 5654, <span style="color:#0000ff;">&#39;2020-01-10&#39;</span>);  </p><p>  </p><p><span style="color:#008200;">-- 5. Commit changes    </span>  </p><p><strong><span style="color:#006699;">COMMIT</span></strong>;  </p><p></p><p>Откат транзакции - действие, обеспечивающее анулирование всех изменений данных, которые были сделаны в теле текущей незавершенной транзации.</p><p></p><p><span style="color:#008200;">-- 1. Start a new transaction</span>  </p><p>START <strong><span style="color:#006699;">TRANSACTION</span></strong>;  </p><p>  </p><p><span style="color:#008200;">-- 2. Delete data from the order table</span>  </p><p><strong><span style="color:#006699;">DELETE</span></strong> <strong><span style="color:#006699;">FROM</span></strong> Orders;  </p><p></p><p><span style="color:#008200;">-- 3. Rollback changes    </span>  </p><p><strong><span style="color:#006699;">ROLLBACK</span></strong>;  </p><p>  </p><p><span style="color:#008200;">-- 4. Verify the records in the first session</span>  </p><p><strong><span style="color:#006699;">SELECT</span></strong> * <strong><span style="color:#006699;">FROM</span></strong> Orders;  </p><p></p><p></p></div>
</body>
</html>
