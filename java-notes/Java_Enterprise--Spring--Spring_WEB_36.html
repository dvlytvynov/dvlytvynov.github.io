<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Spring WEB</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Spring WEB</h1><br/><p></p><p>В Spring Web уже нет ApplicationRunner, там Web в отдельном контейнере запускается</p><p>Нет единого фреймфорка Spring Web, это - набор</p><p></p><p>Spring WEB состоит из (как правило из набора этого функционала можно решить любую бизнес-задачу):</p><p>- Spring Boot (большинство приложений)</p><p>- Spring REST (здесь эндпоинты возвращают какие-то JSON-ы с какими-то данными)</p><p>- Themleaf (Реже) - html, css, ajax, Spring MVC</p><p>- Spring MVC</p><p>- Service</p><p>- Spring Data Jpa</p><p></p><p>Spring Boot внутри может подтянуть контейнер сервлетов</p><p>http методы: GET, POST, PUT, PATCH, DELETE, и др.</p><p>Статус-коды html:</p><p><a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP">https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP</a></p><p></p><p>В браузере:</p><p>- очистка кеша Ctrl + F5 либо пр.кн.мыши на значке “обновить страницу” нажать “очистка кеша и жемткая перезагрузка”</p><p>- инструменты разработчика - Ctrl + Shift + I или F12 (во вкладке Response: { } Pretty print - отображение html страницы в удобном для чтения варианте)</p><p>- IP адрес сервера можно узнать с помощью команды ping (например: ping <a href="http://www.google.com/">www.google.com</a>)</p><p></p><p>HTTP request: </p><p>    Request -&gt; <a href="https://www.google.com/search?q=news">https://www.google.com/search?q=news</a> </p><p>        https -&gt; protocol (default port 443; if HTTP -&gt; default port 80))</p><p>        <a href="http://www.google.com/">www.google.com</a> -&gt; address of server (172.217.20.196) using DNS (domain name server) </p><p>        search -&gt; end-point, path of resource, route </p><p>        q=news -&gt; parameters (name : q, value : news) </p><p>        &lt;protocol&gt;://&lt;domain|ip address&gt;[:port/&lt;end-point|resource&gt;?&lt;parameters: name=value&amp;name=value&gt;]</p><p>        </p><p><strong>Сетевая модель OSI</strong> (The <strong>Open Systems Interconnection</strong> model<strong>)</strong> — сетевая модель стека (магазина) сетевых протоколов OSI/ISO. Посредством данной модели различные сетевые устройства могут взаимодействовать друг с другом. Модель определяет различные уровни взаимодействия систем. Каждый уровень выполняет определённые функции при таком взаимодействии.</p><p>        </p><p>HTTP(HTTPS) protocol </p><p>    Request: </p><p>        Methods: GET, POST, PUT, DELETE, HEAD, OPTIONS, TRACE, PATCH, CONNECT </p><p>            Запрос POST некешируемый (если бы был кешируемый, то запрос может быть закеширован и какое-то время браузер может не обращаться к серверу</p><p>        Headers: sessionId, cookies, etc. </p><p>        Body: data inside request </p><p>    Response: </p><p>        Headers: sessionId, cookies, etc. </p><p>        Body: data inside response </p><p>        CODE: 200 - success</p><p></p><p>https не работает по IP-адресам (заточен на сравнение доменного имени и IP-адр)</p><p>POSTMAN, curl - с помощью этих программ можно отправлять запросы (в командной строке: “curl -X POST http://localhost:18080/getServerTime”, где http://localhost:18080/getServerTime - запрос из JavaScript)</p><p></p><p>@RestController - контроллер, который возвращает значение. Rest не работает с html, работает со значениями (конкретными данными).</p><p>@Controller - контроллер, относится к MVC механизму. Отвечает за ендпоинт (@GetMapping(&quot;/getName&quot;) - куда коннектиться) и отвечает за то, какое View вернуть и внутри поместить модель (непосредственно данные - набор переменных):</p><p><div class="codebox"><pre>@Controller<br /><span style="color:#7f0044;font-weight:400">public</span> <span style="color:#7f0044;font-weight:400">class</span> GetNameController {<br /><br />    @GetMapping(<span style="color:#3ad900;font-weight:400">&quot;/getName&quot;</span>)<br />    <span style="color:#7f0044;font-weight:400">public</span> String getName(@RequestParam(name = <span style="color:#3ad900;font-weight:400">&quot;new-name&quot;</span>, required = <span style="color:#ff0044;font-weight:400">false</span>, defaultValue = <span style="color:#3ad900;font-weight:400">&quot;World&quot;</span>) String[] name, Model model) {<br />        model.addAttribute(<span style="color:#3ad900;font-weight:400">&quot;model_name&quot;</span>, name[<span style="color:#ff0044;font-weight:400">0</span>]);<br />        <span style="color:#ff9d00;font-weight:700">return</span> <span style="color:#3ad900;font-weight:400">&quot;yourName&quot;</span>;<br />    }<br />}</pre></div></p><p>Модель в данном случае - это дополнение View переменными, которые могут изменяться и template (&quot;/getName&quot;) будет использовать из модели эти переменные</p><p>Controller возвращает название View (<span style="color:#3ad900;">&quot;yourName&quot;</span> в данном примере). yourName.html с подставлеными значениями загрузит браузер при запросе</p><p>http://localhost:18080/getName?new-name=&quot;NEW NAME&quot;</p><p>Контроллер – это простой джава класс, который помечен аннотацией @Controller. Этим Вы указываете спринг библиотеке, что данный класс будет принимать входящие http запросы и выдавать соответствующий контент.</p><p>За прием запросов будут отвечать методы данного класса, которые помечены соответствующей аннотацией. Существует несколько типов http запросов: GET, POST, PUT, DELETE и т.д.</p><p>Для того, чтобы показать что метод будет принимать определенный запрос из вышеперечисленных, нужно поменить его одной из аннотаций @GetMapping, @PostMapping, @PutMapping и т.д. Один метод будет отвечать за один запрос. Внутрь аннотации нужно добавить атрибут value – часть урл пути запроса.</p><p></p><p></p><p>Thymeleaf - это библиотека, которая позволяет хранить html шаблоны на стороне сервера и выдавать их по вызову определенного кода.</p><p>HTTPS = HTTP + secure (certificate) </p><p>FTP = File Transfer Protocol</p><p>MVC (Model - View - Controller)</p><p>Thymeleaf analogs: </p><p> - GWT - google web toolkit</p><p> - JSF</p><p></p><p></p></div>
</body>
</html>
