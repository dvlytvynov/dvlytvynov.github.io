<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Maven</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Maven</h1><br/><br />Файл pom.xml<br /><br /><span style="color:#a65700;">&lt;</span><strong>project</strong> <span style="color:#666616;">xmlns</span><span style="color:#808030;">=</span>"<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/POM/4.0.0</span>"<br />          <span style="color:#666616;">xmlns</span><span style="color:#800080;">:</span>xsi<span style="color:#808030;">=</span>"<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">www.w3.org</span><span style="color:#40015a;">/2001/XMLSchema-instance</span>"<br />          <span style="color:#666616;">xsi</span><span style="color:#800080;">:</span>schemaLocation<span style="color:#808030;">=</span>"<span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/POM/4.0.0</span><span style="color:#0000e6;"> </span><span style="color:#666616;">http</span><span style="color:#800080;">:</span><strong>//</strong><span style="color:#5555dd;">maven.apache.org</span><span style="color:#40015a;">/xsd/maven-4.0.0.xsd</span>"<span style="color:#a65700;">&gt;</span><br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">modelVersion</span><span style="color:#a65700;">&gt;</span>4.0.0<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">modelVersion</span><span style="color:#a65700;">&gt;</span><br /> <br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>com.epam<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>                 идентификатор группы<br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>unit-test-sample<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>     идентификатор артефакта. Артефакт - результат сборки текущего приложения<br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>1.0-SNAPSHOT<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>            версия (соблюдаем семантическое версионирование).  SNAPSHOT - версия в активной разработке<br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">packaging</span><span style="color:#a65700;">&gt;</span>jar<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">packaging</span><span style="color:#a65700;">&gt;</span>                     упаковка<br /> <br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">name</span><span style="color:#a65700;">&gt;</span>Maven jUnit sample<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">name</span><span style="color:#a65700;">&gt;</span>         имя<br /> <br />      <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">properties</span><span style="color:#a65700;">&gt;</span>                                            настройки, которые нужны в пределах этого конфигурационного файла<br />         <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">project.build.sourceEncoding</span><span style="color:#a65700;">&gt;</span>UTF-8<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">project.build.sourceEncoding</span><span style="color:#a65700;">&gt;</span><br />         <span style="color:#e8bf6a;">&lt;maven.compiler.source&gt;</span>17<span style="color:#e8bf6a;">&lt;/maven.compiler.source&gt;      версия исходных файлов java<br />         &lt;maven.compiler.target&gt;</span>17<span style="color:#e8bf6a;">&lt;/maven.compiler.target&gt;</span>        <span style="color:#e8bf6a;">версия результирующих файлов java</span><br />     <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">properties</span><span style="color:#a65700;">&gt;</span><br /> <br />     <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">dependencies</span><span style="color:#a65700;">&gt;</span>                                         зависимости в пределах этого текущего артефакта<br />         <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">dependency</span><span style="color:#a65700;">&gt;</span><br />             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span>junit<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">groupId</span><span style="color:#a65700;">&gt;</span><br />             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span>junit<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">artifactId</span><span style="color:#a65700;">&gt;</span><br />             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span>4.8.2<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">version</span><span style="color:#a65700;">&gt;</span><br />             <span style="color:#a65700;">&lt;</span><span style="color:#5f5035;">scope</span><span style="color:#a65700;">&gt;</span>test<span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">scope</span><span style="color:#a65700;">&gt;</span>                    область видимости: эта зависимость видна только для теста<br />         <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">dependency</span><span style="color:#a65700;">&gt;</span><br />     <span style="color:#a65700;">&lt;/</span><span style="color:#5f5035;">dependencies</span><span style="color:#a65700;">&gt;</span><br /><span style="color:#a65700;">&lt;/</span><strong>project</strong><span style="color:#a65700;">&gt;</span><br /><br />Главный класс зпауска - Прописать &lt;manifest&gt;......&lt;mainclass&gt;...........<br />&lt;repositories&gt; &lt;repository&gt; &lt;id&gt; &lt;url&gt; ..... - сюда будет деплоиться наш проект<br />&lt;scm&gt; &lt;connection&gt; ...... &lt;developerConnection&gt; ...... - ссылка на исходники<br />&lt;issueManagemebt&gt; &lt;system&gt; ...... &lt;url&gt; ....... - где хранится Jira, либо в GitHub могут быть тикеты<br />&lt;mailingLists&gt; &lt;mailingList&gt; &lt;name&gt; .... &lt;subscribe&gt; ..... &lt;post&gt; ...... &lt;archive&gt; ..... - какие разработчики могут участвовать<br /><br /><strong>Область действия зависимости scope</strong><br /><br />Область действия зависимости scope определяет этап жизненного цикла проекта, в котором эта зависимость будет использоваться.<br />Maven использует 6 областей :<br />● <strong>compile</strong> - область по умолчанию, используется, если scope не определена. Compile зависимости доступны во всех classpath проекта;<br />● <strong>provided</strong> - очень похоже на compile, но эта зависимость в сборку не попадает. Предполагается, что зависимость (артефакт) уже присутствует в JDK или в WEB-контейнере. Эта область доступна только на этапах компиляции и тестирования и не является транзитивной;<br />● <strong>runtime</strong> - зависимость с данной областью видимости не обязательна для compilation и используется в фазе выполнения;<br />● <strong>test</strong> - зависимость используется при тестировании кода приложения;<br />● <strong>system</strong> - область похожа на provided за исключением того, что необходимо определить физическое расположение артефакта на диске. Артефакт с этой областью видимости maven не ищет в репозитории;<br />● <strong>import</strong> - эта область используется в зависимости секции &lt;dependencyManagement&gt; при сложных связях (см. dependencyManagement).<br /><br /><img src="images\13-1.png" alt="images\13-1.png" /><br /><br /><br /><strong>Команды Maven (Terminal IDEA):</strong><br /><br />mvn help:effective-pom<br />mvn package<br />mvn clean install<br />.....<br /><br />Иерархия от простого к сложному:<br />- функции<br />- классы (функции объединяются в классы)<br />- пакеты<br />- модули (модули являются как библиотеки)<br />- сервисы<br /><br />Горизонтальное масштабирование - приложение запускается в нескольких экземплярах. Добавление компьютеров, ра каждом из которых будет работать один экземпляр приложения. + еще один компьютер, который будет балансировать нагрузку между этими компьютерами.<br /><br />Вертикальная масштабирование - (если приложение не справляется: добавление памяти, жестких дисков, замена/добавление процессоров, замена материнской платы).<br /><br /><strong>Локальный репозиторий Maven:</strong><br />C:\Users\Текущий пользователь\.m2\repository<br /><br /><strong>Настройки Maven (Settings files):</strong><br />C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2021.2.3\plugins\maven\lib\maven3\conf\settings.xml<br />C:\Users\Текущий пользователь\.m2\repository - находится в репозитории профиля пользователя. По умолчанию файла здесь нет. Если что-то поменять, он появится. Этот файл можно добавить самим. Сюда придется добавлять настройки проектных репозиториев. Эти настройки переопределяют настройки, которые находятся здесь:<br />“C:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2021.2.3\plugins\maven\lib\maven3\conf\settings.xml”<br /><br /><strong>Внешние зависимости</strong><br /><br /><img src="images\13-2.png" alt="images\13-2.png" /><br /><br />Эти зависимости можем положить радом с проектом, тогда наш проект не будет зависеть от интернета.<br /><br /><strong>Lifecycle maven</strong><br /><br /><img src="images\13-3.png" alt="images\13-3.png" /><br /><br /><strong>clean</strong> - очищает папки target, в которые были помещены файлы во время build<br /><strong>validate</strong> - проверяет все ли java файлы в порядке, проверяет зависимости<br /><strong>compile</strong> - компилирует java код в class файлы<br /><strong>test</strong> - запускает unit-тесты<br /><strong>package</strong> - пакует jar файлы<br /><strong>verify</strong> - запускает дополнительные проверки jar или war файлов, в зависимости от того подключены эти проверки или нет<br /><strong>install</strong> - помещает jar файлы в локальный репозиторий Maven<br /><strong>site</strong> - генерирует документацию (запускает java doc) (комментарии к методам)<br /><strong>deploy</strong> - заливает проект на удаленный репозиторий<br /><br /><br /></div></body></html>